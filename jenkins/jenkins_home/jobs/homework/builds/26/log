Started by user [8mha:////4HS3CW4pzQSmhOc+rV3OB09AWSTqYWbHG79OP0PnjzscAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAy2EgZu/dLi1CL9xJTczDwA9svhPMAAAAA=[0mztlsir
Running as SYSTEM
Building in workspace /var/jenkins_home/workspace/homework
using credential 5afe49a6-f2eb-4a6b-a223-aaae2c83f182
 > /usr/bin/git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > /usr/bin/git config remote.origin.url https://github.com/ztlsir/Education.git # timeout=10
Cleaning workspace
 > /usr/bin/git rev-parse --verify HEAD # timeout=10
Resetting working tree
 > /usr/bin/git reset --hard # timeout=10
 > /usr/bin/git clean -ffdx # timeout=10
Fetching upstream changes from https://github.com/ztlsir/Education.git
 > /usr/bin/git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > /usr/bin/git fetch --tags --progress -- https://github.com/ztlsir/Education.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > /usr/bin/git rev-parse refs/remotes/origin/ci^{commit} # timeout=10
 > /usr/bin/git rev-parse refs/remotes/origin/origin/ci^{commit} # timeout=10
Checking out Revision 6b0a72c7702f15e09adde88dbe34c827083ec1af (refs/remotes/origin/ci)
 > /usr/bin/git config core.sparsecheckout # timeout=10
 > /usr/bin/git checkout -f 6b0a72c7702f15e09adde88dbe34c827083ec1af # timeout=10
Commit message: "Merge pull request #7 from ztlsir/master"
 > /usr/bin/git rev-list --no-walk 6b0a72c7702f15e09adde88dbe34c827083ec1af # timeout=10
[homework] $ /bin/sh -xe /tmp/jenkins6755926060361748040.sh
+ cd homework
+ ./gradlew -Pprofile=ci clean build
Downloading https://services.gradle.org/distributions/gradle-6.3-bin.zip
.........10%..........20%..........30%.........40%..........50%..........60%.........70%..........80%..........90%..........100%

Welcome to Gradle 6.3!

Here are the highlights of this release:
 - Java 14 support
 - Improved error messages for unexpected failures

For more details see https://docs.gradle.org/6.3/release-notes.html

Starting a Gradle Daemon (subsequent builds will be faster)
> Task :clean UP-TO-DATE
> Task :compileJava
> Task :processResources
> Task :classes
> Task :bootJar
> Task :jar SKIPPED
> Task :assemble
> Task :compileTestJava
> Task :processTestResources NO-SOURCE
> Task :testClasses

> Task :test
12:55:52.909 [SpringContextShutdownHook] DEBUG org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@1c31e87b, started on Sun May 03 12:55:50 UTC 2020

> Task :compileComponentTestJava
> Task :processComponentTestResources
> Task :componentTestClasses
> Task :componentTest
2020-05-03 12:56:50.292  INFO 372 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-05-03 12:56:50.297  INFO 372 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'homeworkPersistenceUnit'
2020-05-03 12:56:50.298  INFO 372 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'educationPersistenceUnit'
2020-05-03 12:56:50.299  INFO 372 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-03 12:56:50.321  INFO 372 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-03 12:56:50.322  INFO 372 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-05-03 12:56:50.567  INFO 372 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.

> Task :compileApiTestJava
> Task :processApiTestResources
> Task :apiTestClasses

> Task :mongoTestComposeUp
mongoDB uses an image, skipping
Creating ztlsir-homework-mongodb-test ... 
Creating ztlsir-homework-mongodb-test ... done
Will use 172.18.0.1 (network lan) as host of mongoDB
Probing TCP socket on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test'
Waiting for TCP socket on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test' (TCP connection on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test' was disconnected right after connected)
Waiting for TCP socket on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test' (TCP connection on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test' was disconnected right after connected)
TCP socket on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test' is ready
+------------------------------+----------------+------------------+
| Name                         | Container Port | Mapping          |
+------------------------------+----------------+------------------+
| ztlsir-homework-mongodb-test | 27017          | 172.18.0.1:27016 |
+------------------------------+----------------+------------------+

> Task :apiTest
2020-05-03 12:57:56.411  INFO 475 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-05-03 12:57:56.417  INFO 475 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'homeworkPersistenceUnit'
2020-05-03 12:57:56.418  INFO 475 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'educationPersistenceUnit'
2020-05-03 12:57:56.419  INFO 475 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-03 12:57:56.434  INFO 475 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-03 12:57:56.435  INFO 475 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-05-03 12:57:58.737  INFO 475 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.

> Task :checkstyleApiTest
> Task :checkstyleComponentTest
> Task :checkstyleMain
> Task :checkstyleTest
> Task :check
> Task :jacocoAllTestReport
> Task :jacocoAllTestCoverageVerification

> Task :mongoTestComposeDown
Stopping ztlsir-homework-mongodb-test ... 
Stopping ztlsir-homework-mongodb-test ... done
Removing ztlsir-homework-mongodb-test ... 
Removing ztlsir-homework-mongodb-test ... done
Network lan is external, skipping

> Task :build

Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.
Use '--warning-mode all' to show the individual deprecation warnings.
See https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings

BUILD SUCCESSFUL in 6m 30s
20 actionable tasks: 19 executed, 1 up-to-date
Publishing Coverage report....
A total of 1 reports were found
Code coverage enforcement failed: Line coverage in Report level 'homework: jacocoAllTestReport.xml' is lower than 90.00 stable threshold
Build step 'Publish Coverage Report' changed build result to UNSTABLE
[CheckStyle] Searching for all files in '/var/jenkins_home/workspace/homework' that match the pattern 'homework/build/reports/checkstyle/*.xml'
[CheckStyle] -> found 4 files
[CheckStyle] Successfully parsed file /var/jenkins_home/workspace/homework/homework/build/reports/checkstyle/apiTest.xml
[CheckStyle] -> found 0 issues (skipped 0 duplicates)
[CheckStyle] Successfully parsed file /var/jenkins_home/workspace/homework/homework/build/reports/checkstyle/componentTest.xml
[CheckStyle] -> found 0 issues (skipped 0 duplicates)
[CheckStyle] Successfully parsed file /var/jenkins_home/workspace/homework/homework/build/reports/checkstyle/main.xml
[CheckStyle] -> found 0 issues (skipped 0 duplicates)
[CheckStyle] Successfully parsed file /var/jenkins_home/workspace/homework/homework/build/reports/checkstyle/test.xml
[CheckStyle] -> found 0 issues (skipped 0 duplicates)
[CheckStyle] Skipping post processing
[CheckStyle] No filter has been set, publishing all 0 issues
[CheckStyle] Using reference build 'homework #25' to compute new, fixed, and outstanding issues
[CheckStyle] Issues delta (vs. reference build): outstanding: 0, new: 0, fixed: 0
[CheckStyle] No quality gates have been set - skipping
[CheckStyle] Health report is disabled - skipping
[CheckStyle] Created analysis result for 0 issues (found 0 new issues, fixed 0 issues)
[CheckStyle] Attaching ResultAction with ID 'checkstyle' to run 'homework #26'.
SSH: Connecting from host [3383990d72dc]
SSH: Connecting with configuration [server_1] ...
ERROR: Exception when publishing, exception message [Failed to connect and initialize SSH connection. Message: [Failed to connect session for config [server_1]. Message [Auth fail]]]
Finished: UNSTABLE
