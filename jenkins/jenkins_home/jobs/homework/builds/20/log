Started by user [8mha:////4HS3CW4pzQSmhOc+rV3OB09AWSTqYWbHG79OP0PnjzscAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAy2EgZu/dLi1CL9xJTczDwA9svhPMAAAAA=[0mztlsir
Running as SYSTEM
Building in workspace /var/jenkins_home/workspace/homework
using credential 5afe49a6-f2eb-4a6b-a223-aaae2c83f182
 > /usr/bin/git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > /usr/bin/git config remote.origin.url https://github.com/ztlsir/Education.git # timeout=10
Cleaning workspace
 > /usr/bin/git rev-parse --verify HEAD # timeout=10
Resetting working tree
 > /usr/bin/git reset --hard # timeout=10
 > /usr/bin/git clean -ffdx # timeout=10
Fetching upstream changes from https://github.com/ztlsir/Education.git
 > /usr/bin/git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > /usr/bin/git fetch --tags --progress -- https://github.com/ztlsir/Education.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > /usr/bin/git rev-parse refs/remotes/origin/ci^{commit} # timeout=10
 > /usr/bin/git rev-parse refs/remotes/origin/origin/ci^{commit} # timeout=10
Checking out Revision bf1d44d1b30376632f08acc89a317c9b1fe0594e (refs/remotes/origin/ci)
 > /usr/bin/git config core.sparsecheckout # timeout=10
 > /usr/bin/git checkout -f bf1d44d1b30376632f08acc89a317c9b1fe0594e # timeout=10
Commit message: "add check style"
 > /usr/bin/git rev-list --no-walk 4511d7aa36bda08461352392fa189745c4b4d467 # timeout=10
[homework] $ /bin/sh -xe /tmp/jenkins965268170421289558.sh
+ cd homework
+ ./gradlew -Pprofile=ci clean build
Starting a Gradle Daemon (subsequent builds will be faster)
> Task :clean UP-TO-DATE
> Task :compileJava
> Task :processResources
> Task :classes
> Task :bootJar
> Task :jar SKIPPED
> Task :assemble
> Task :compileTestJava
> Task :processTestResources NO-SOURCE
> Task :testClasses

> Task :test
01:54:23.254 [SpringContextShutdownHook] DEBUG org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@4f4d43ee, started on Sun May 03 01:54:19 UTC 2020

> Task :compileComponentTestJava
> Task :processComponentTestResources
> Task :componentTestClasses
> Task :componentTest
2020-05-03 01:55:49.747  INFO 2054 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-05-03 01:55:49.753  INFO 2054 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'homeworkPersistenceUnit'
2020-05-03 01:55:49.756  INFO 2054 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'educationPersistenceUnit'
2020-05-03 01:55:49.759  INFO 2054 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-03 01:55:49.782  INFO 2054 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-03 01:55:49.783  INFO 2054 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-05-03 01:55:52.310  INFO 2054 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.

> Task :compileApiTestJava
> Task :processApiTestResources
> Task :apiTestClasses

> Task :mongoTestComposeUp
mongoDB uses an image, skipping
Recreating ztlsir-homework-mongodb-test ... 
Recreating ztlsir-homework-mongodb-test ... done
Will use 172.18.0.1 (network lan) as host of mongoDB
Probing TCP socket on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test'
TCP socket on 172.18.0.1:27016 of service 'ztlsir-homework-mongodb-test' is ready
+------------------------------+----------------+------------------+
| Name                         | Container Port | Mapping          |
+------------------------------+----------------+------------------+
| ztlsir-homework-mongodb-test | 27017          | 172.18.0.1:27016 |
+------------------------------+----------------+------------------+

> Task :apiTest
2020-05-03 01:58:07.751  INFO 2139 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-05-03 01:58:07.760  INFO 2139 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'homeworkPersistenceUnit'
2020-05-03 01:58:07.763  INFO 2139 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'educationPersistenceUnit'
2020-05-03 01:58:07.766  INFO 2139 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-05-03 01:58:07.791  INFO 2139 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-05-03 01:58:07.792  INFO 2139 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-05-03 01:58:15.854  INFO 2139 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.

> Task :checkstyleApiTest
[ant:checkstyle] [WARN] /var/jenkins_home/workspace/homework/homework/src/apiTest/java/com/ztlsir/homework/BaseApiTest.java:40: Line is longer than 100 characters (found 104). [LineLength]
[ant:checkstyle] [WARN] /var/jenkins_home/workspace/homework/homework/src/apiTest/java/com/ztlsir/homework/BaseApiTest.java:42: Line is longer than 100 characters (found 101). [LineLength]

> Task :checkstyleApiTest FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':checkstyleApiTest'.
> Checkstyle rule violations were found. See the report at: file:///var/jenkins_home/workspace/homework/homework/build/reports/checkstyle/apiTest.html
  Checkstyle files with violations: 1
  Checkstyle violations by severity: [warning:2]


* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.
Use '--warning-mode all' to show the individual deprecation warnings.
See https://docs.gradle.org/6.3/userguide/command_line_interface.html#sec:command_line_warnings

BUILD FAILED in 4m 58s
14 actionable tasks: 13 executed, 1 up-to-date
Build step 'Execute shell' marked build as failure
Publishing Coverage report....
No reports were found
io.jenkins.plugins.coverage.exception.CoverageException: Publish Coverage Failed : No Reports were found
	at io.jenkins.plugins.coverage.CoverageProcessor.convertToResults(CoverageProcessor.java:388)
	at io.jenkins.plugins.coverage.CoverageProcessor.performCoverageReport(CoverageProcessor.java:95)
	at io.jenkins.plugins.coverage.CoveragePublisher.perform(CoveragePublisher.java:96)
	at hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:78)
	at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)
	at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:741)
	at hudson.model.AbstractBuild$AbstractBuildExecution.performAllBuildSteps(AbstractBuild.java:690)
	at hudson.model.Build$BuildExecution.post2(Build.java:186)
	at hudson.model.AbstractBuild$AbstractBuildExecution.post(AbstractBuild.java:635)
	at hudson.model.Run.execute(Run.java:1881)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:97)
	at hudson.model.Executor.run(Executor.java:428)

[CheckStyle] Skipping execution of recorder since overall result is 'FAILURE'
Finished: FAILURE
